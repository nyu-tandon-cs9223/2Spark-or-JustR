Script started on Sat 23 Dec 2017 01:04:16 PM EST
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src/main/scala[?1034h[on371@F4Linux1 scala]$ cat S[KNaiveBayesExample.scala 
import org.apache.spark.mllib.regression.LabeledPoint
import org.apache.spark.mllib.linalg.Vectors
import org.apache.spark.mllib.evaluation.BinaryClassificationMetrics
import org.apache.spark.SparkConf
import org.apache.spark.SparkContext
import org.apache.spark.mllib._
import org.apache.spark.mllib.classification.{NaiveBayes, NaiveBayesModel}
import org.apache.spark.mllib.util.MLUtils
import org.apache.spark.mllib.evaluation.MulticlassMetrics
import org.apache.spark.rdd.RDD



object NaiveBayesExample {

  def main(args:Array[String]) : Unit = {
    val sc = SparkContext.getOrCreate()

    val datapre = sc.textFile("Mydata.csv")
    val parseddatapre = datapre.map { line =>
      val parts = line.split(',')
      LabeledPoint(parts(1).toDouble, Vectors.dense(parts(0).toDouble, parts(2).toDouble, parts(3).toDouble, parts(4).toDouble, parts(5).toDouble, parts(6).toDouble, parts(7).toDouble, parts(8).toDouble))
    }


    val splits = parseddatapre.randomSplit(Array(0.6, 0.4), seed = 11L)
    val training = splits(0)
    val test = splits(1)
    val model = NaiveBayes.train(training)
    val predictionAndLabel = test.map(p => (model.predict(p.features), p.label))
    val accuracy = 1.0 * predictionAndLabel.filter(x => x._1 == x._2).count() / test.count()

    println("the accuracy is " + accuracy)

    val metrics = new BinaryClassificationMetrics(predictionAndLabel)
    val roc1 = metrics.roc

    println("the ROC is " + roc1.collect())

    val auc1 = metrics.areaUnderROC

    println("the AUC is " + auc1)

    val metrics2 = new MulticlassMetrics(predictionAndLabel)
    val confmatrix = metrics2.confusionMatrix
    println("**************************************************OUTPUT*******************************************")
    println("the accuracy is " + accuracy)
    println("the ROC is " + roc1.collect())
    println("the AUC is " + auc1)
    println("the confusionmatrix is  " + confmatrix)
    println("**************************************************OUTPUT*******************************************")

  }

}
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src/main/scala[on371@F4Linux1 scala]$ ac[K[Kspark-submit[K[K[K[K[Khell
Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties
Setting default log level to "WARN".
To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).
17/12/23 13:04:44 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
17/12/23 13:04:45 WARN Utils: Service 'SparkUI' could not bind on port 4040. Attempting port 4041.
17/12/23 13:04:45 WARN Utils: Service 'SparkUI' could not bind on port 4041. Attempting port 4042.
17/12/23 13:04:45 WARN Utils: Service 'SparkUI' could not bind on port 4042. Attempting port 4043.
17/12/23 13:04:45 WARN Utils: Service 'SparkUI' could not bind on port 4043. Attempting port 4044.
17/12/23 13:04:45 WARN Utils: Service 'SparkUI' could not bind on port 4044. Attempting port 4045.
17/12/23 13:04:45 WARN Utils: Service 'SparkUI' could not bind on port 4045. Attempting port 4046.
Spark context Web UI available at http://12.42.205.8:4046
Spark context available as 'sc' (master = local[*], app id = local-1514052285893).
Spark session available as 'spark'.
Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 2.2.0
      /_/
         
Using Scala version 2.11.8 (OpenJDK 64-Bit Server VM, Java 1.8.0_141)
Type in expressions to have them evaluated.
Type :help for more information.

scala> import org.apache.spark.mllib.regression.LabeledPoint
import org.apache.spark.mllib.regression.LabeledPoint

scala> import org.apache.spark.mllib.linalg.Vectors
import org.apache.spark.mllib.linalg.Vectors

scala> import org.apache.spark.mllib.evaluation.BinaryClassificationMetrics
import org.apache.spark.mllib.evaluation.BinaryClassificationMetrics

scala> import org.apache.spark.SparkConf
import org.apache.spark.SparkConf

scala> import org.apache.spark.SparkContext
import org.apache.spark.SparkContext

scala> import org.apache.spark.mllib._
import org.apache.spark.mllib._

scala> import org.apache.spark.mllib.classification.{NaiveBayes, NaiveBayesModel}
import org.apache.spark.mllib.classification.{NaiveBayes, NaiveBayesModel}

scala> import org.apache.spark.mllib.util.MLUtils
import org.apache.spark.mllib.util.MLUtils

scala> import org.apache.spark.mllib.evaluation.MulticlassMetrics
import org.apache.spark.mllib.evaluation.MulticlassMetrics

scala> import org.apache.spark.rdd.RDD
import org.apache.spark.rdd.RDD

scala> val sc = SparkContext.getOrCreate()
sc: org.apache.spark.SparkContext = org.apache.spark.SparkContext@4e671ef

scala> 

scala>     val datapre = sc.textFile("Mydata.csv")
datapre: org.apache.spark.rdd.RDD[String] = Mydata.csv MapPartitionsRDD[1] at textFile at <console>:37

scala>     val parseddatapre = datapre.map { line =>
     |       val parts = line.split(',')
     |       LabeledPoint(parts(1).toDouble, Vectors.dense(parts(0).toDouble, parts(2).toDouble, parts(3).toDouble, parts(4).toDouble, parts(5).toDouble, parts(6).toDouble, parts(7).toDouble, parts(8).toD ouble))
     |     }
parseddatapre: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] = MapPartitionsRDD[2] at map at <console>:39

scala> 

scala> 

scala>     val splits = parseddatapre.randomSplit(Array(0.6, 0.4), seed = 11L)
splits: Array[org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint]] = Array(MapPartitionsRDD[3] at randomSplit at <console>:41, MapPartitionsRDD[4] at randomSplit at <console>:41)

scala>     val training = splits(0)
training: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] = MapPartitionsRDD[3] at randomSplit at <console>:41

scala>     val test = splits(1)
test: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] = MapPartitionsRDD[4] at randomSplit at <console>:41

scala>     val model = NaiveBayes.train(training)
17/12/23 13:05:51 ERROR Executor: Exception in task 0.0 in stage 0.0 (TID 0)
java.lang.ArrayIndexOutOfBoundsException: 1
	at $line26.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$anonfun$1.apply(<console>:41)
	at $line26.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$anonfun$1.apply(<console>:39)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
17/12/23 13:05:51 WARN TaskSetManager: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.ArrayIndexOutOfBoundsException: 1
	at $line26.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$anonfun$1.apply(<console>:41)
	at $line26.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$anonfun$1.apply(<console>:39)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

17/12/23 13:05:51 ERROR TaskSetManager: Task 0 in stage 0.0 failed 1 times; aborting job
org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.ArrayIndexOutOfBoundsException: 1
	at $anonfun$1.apply(<console>:41)
	at $anonfun$1.apply(<console>:39)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Driver stacktrace:
  at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1499)
  at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1487)
  at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1486)
  at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)
  at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)
  at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1486)
  at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:814)
  at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:814)
  at scala.Option.foreach(Option.scala:257)
  at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:814)
  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1714)
  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1669)
  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1658)
  at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)
  at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:630)
  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2022)
  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2043)
  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2062)
  at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:336)
  at org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:38)
  at org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$collectFromPlan(Dataset.scala:2853)
  at org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:2153)
  at org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:2153)
  at org.apache.spark.sql.Dataset$$anonfun$55.apply(Dataset.scala:2837)
  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:65)
  at org.apache.spark.sql.Dataset.withAction(Dataset.scala:2836)
  at org.apache.spark.sql.Dataset.head(Dataset.scala:2153)
  at org.apache.spark.sql.Dataset.head(Dataset.scala:2160)
  at org.apache.spark.ml.classification.NaiveBayes.trainWithLabelCheck(NaiveBayes.scala:154)
  at org.apache.spark.mllib.classification.NaiveBayes.run(NaiveBayes.scala:373)
  at org.apache.spark.mllib.classification.NaiveBayes$.train(NaiveBayes.scala:417)
  ... 50 elided
Caused by: java.lang.ArrayIndexOutOfBoundsException: 1
  at $anonfun$1.apply(<console>:41)
  at $anonfun$1.apply(<console>:39)
  at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
  at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
  at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
  at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
  at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
  at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
  at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
  at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
  at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
  at org.apache.spark.scheduler.Task.run(Task.scala:108)
  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
  at java.lang.Thread.run(Thread.java:748)

scala>     val predictionAndLabel = test.map(p => (model.predict(p.features), p.label))
<console>:45: error: not found: value model
           val predictionAndLabel = test.map(p => (model.predict(p.features), p.label))
                                                   ^

scala>     val accuracy = 1.0 * predictionAndLabel.filter(x => x._1 == x._2).count() / test.count()
<console>:45: error: not found: value predictionAndLabel
           val accuracy = 1.0 * predictionAndLabel.filter(x => x._1 == x._2).count() / test.count()
                                ^

scala> 

scala>     println("the accuracy is " + accuracy)
<console>:36: error: not found: value accuracy
           println("the accuracy is " + accuracy)
                                        ^

scala> 

scala>     val metrics = new BinaryClassificationMetrics(predictionAndLabel)
<console>:35: error: not found: value predictionAndLabel
           val metrics = new BinaryClassificationMetrics(predictionAndLabel)
                                                         ^

scala>     val roc1 = metrics.roc
<console>:35: error: not found: value metrics
           val roc1 = metrics.roc
                      ^

scala> 

scala>     println("the ROC is " + roc1.collect())
<console>:36: error: not found: value roc1
           println("the ROC is " + roc1.collect())
                                   ^

scala> 

scala>     val auc1 = metrics.areaUnderROC
<console>:35: error: not found: value metrics
           val auc1 = metrics.areaUnderROC
                      ^

scala> 

scala>     println("the AUC is " + auc1)
<console>:36: error: not found: value auc1
           println("the AUC is " + auc1)
                                   ^

scala> 

scala>     val metrics2 = new MulticlassMetrics(predictionAndLabel)
<console>:35: error: not found: value predictionAndLabel
           val metrics2 = new MulticlassMetrics(predictionAndLabel)
                                                ^

scala>     val confmatrix = metrics2.confusionMatrix
<console>:35: error: not found: value metrics2
           val confmatrix = metrics2.confusionMatrix
                            ^

scala>     println("**************************************************OUTPUT*******************************************")
**************************************************OUTPUT*******************************************

scala>     println("the accuracy is " + accuracy)
<console>:36: error: not found: value accuracy
           println("the accuracy is " + accuracy)
                                        ^

scala>     println("the ROC is " + roc1.collect())
<console>:36: error: not found: value roc1
           println("the ROC is " + roc1.collect())
                                   ^

scala>     println("the AUC is " + auc1)
<console>:36: error: not found: value auc1
           println("the AUC is " + auc1)
                                   ^

scala>     println("the confusionmatrix is  " + confmatrix)
<console>:36: error: not found: value confmatrix
           println("the confusionmatrix is  " + confmatrix)
                                                ^

scala>     println("**************************************************OUTPUT*******************************************")
**************************************************OUTPUT*******************************************

scala> 

scala> 

scala> 

scala> 

scala> 

scala> 
[1]+  Stopped                 spark-shell
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src/main/scala[on371@F4Linux1 scala]$ ls -l
total 28
-rw-rw-r-- 1 on371 on371     0 Dec 23 13:04 hj997.txt
-rw-rw-r-- 1 on371 on371 23815 Dec 23 13:02 Mydata.csv
-rw-rw-r-- 1 on371 on371  2108 Dec  7 14:56 NaiveBayesExample.scala
drwxrwxr-x 2 on371 on371     6 Dec 23 12:58 [0m[38;5;27mspark-warehouse[0m
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src/main/scala[on371@F4Linux1 scala]$ cd ../
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src/main[on371@F4Linux1 main]$ cd ../
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src[on371@F4Linux1 src]$ ls -l
total 0
drwxrwxr-x 6 on371 on371 62 Dec  7 15:17 [0m[38;5;27mmain[0m
drwxrwxr-x 6 on371 on371 62 Dec  7 15:17 [38;5;27mtest[0m
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final/src[on371@F4Linux1 src]$ cd  ../
]0;on371@F4Linux1:~/P2/hj997/P2/SparkClass_2.0_final[on371@F4Linux1 SparkClass_2.0_final]$ cd ../
]0;on371@F4Linux1:~/P2/hj997/P2[on371@F4Linux1 P2]$ ls -l
total 1276
-rw-rw-r-- 1 on371 on371   23815 Dec 23 12:54 Mydata.csv
-rw-rw-r-- 1 on371 on371 1168386 Dec  7 15:11 PROJECT 2 hj997.pdf
-rw-rw-r-- 1 on371 on371    4477 Dec 23 12:54 Rplots.pdf
drwxrwxr-x 6 on371 on371      71 Dec  7 15:17 [0m[38;5;27mSparkClass_2.0_final[0m
-rw-rw-r-- 1 on371 on371    5741 Dec  7 14:58 [38;5;9msparkclass_2-0_final_2.11-1.0.jar[0m
drwxrwxr-x 2 on371 on371       6 Dec 23 11:54 [38;5;27mspark-warehouse[0m
-rw-rw-r-- 1 on371 on371    1142 Dec 23 12:54 tes2-hj997.R
-rw-rw-r-- 1 on371 on371    5325 Dec 23 12:54 test.csv
-rw-rw-r-- 1 on371 on371   61194 Nov 19 11:37 titanic-train.csv
-rw-rw-r-- 1 on371 on371   18490 Dec 23 12:54 train.csv
]0;on371@F4Linux1:~/P2/hj997/P2[on371@F4Linux1 P2]$ d[Kcd ../
]0;on371@F4Linux1:~/P2/hj997[on371@F4Linux1 hj997]$ ls-l[K[K -l
total 4
drwxr-xr-x 4 on371 on371 4096 Dec 23 12:54 [0m[38;5;27mP2[0m
]0;on371@F4Linux1:~/P2/hj997[on371@F4Linux1 hj997]$ cd ../
]0;on371@F4Linux1:~/P2[on371@F4Linux1 P2]$ ls -l
total 173352
drwxrwxr-x 3 on371 on371       39 Dec 21 23:54 [0m[38;5;27maat414[0m
-rw-r--r-- 1 on371 on371  1771520 Dec 15 15:28 [38;5;9maat414.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mag6288.tar[0m
drwxrwxr-x 3 on371 on371       17 Dec 22 02:15 [38;5;27mav1912[0m
-rw-r--r-- 1 on371 on371   614400 Dec 15 15:28 [38;5;9mav1912.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 21 01:02 [38;5;27mbx361[0m
-rw-r--r-- 1 on371 on371  3706880 Dec 15 15:28 [38;5;9mbx361.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 15:18 [38;5;27mch2958[0m
-rw-r--r-- 1 on371 on371   604160 Dec 15 15:28 [38;5;9mch2958.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 23 11:49 [38;5;27mhj997[0m
-rw-r--r-- 1 on371 on371 15093760 Dec 22 23:22 [38;5;9mhj997-p2.tar[0m
-rw-r--r-- 1 on371 on371 13854720 Dec 22 23:22 [38;5;9mhj997-p3.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 16:04 [38;5;27mjw4321[0m
-rw-r--r-- 1 on371 on371   952320 Dec 15 15:28 [38;5;9mjw4321.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 22 01:24 [38;5;27mjy2268[0m
-rw-r--r-- 1 on371 on371   849920 Dec 15 15:28 [38;5;9mjy2268.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mkl2830.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 17:11 [38;5;27mll3346[0m
-rw-r--r-- 1 on371 on371   266240 Dec 15 15:28 [38;5;9mll3346.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 23 12:09 [38;5;27mlm3338[0m
-rw-r--r-- 1 on371 on371 81602560 Dec 22 23:22 [38;5;9mlm3338-p2.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 19:03 [38;5;27mmy779[0m
-rw-r--r-- 1 on371 on371   563200 Dec 15 15:28 [38;5;9mmy779.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 19:21 [38;5;27mnpb258[0m
-rw-r--r-- 1 on371 on371  2201600 Dec 15 15:28 [38;5;9mnpb258.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mon371.tar[0m
drwxrwxr-x 3 on371 on371       26 Dec 23 12:16 [38;5;27mrh2619[0m
-rw-r--r-- 1 on371 on371  1361920 Dec 22 23:22 [38;5;9mrh2619-p2.tar[0m
-rw-r--r-- 1 on371 on371    71680 Dec 22 23:22 [38;5;9mrh2619-p3.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mrh2619.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9msb5925.tar[0m
drwxr-xr-x 4 on371 on371     4096 Dec 22 01:05 [38;5;27msrc[0m
drwxr-xr-x 3 on371 on371       96 Dec 15 15:28 [38;5;27mssk624.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 20:23 [38;5;27msw3551[0m
-rw-r--r-- 1 on371 on371   839680 Dec 15 15:28 [38;5;9msw3551.tar[0m
-rw-rw-r-- 1 on371 on371     1434 Dec 19 20:48 sw3551.txt
-rw-rw-r-- 1 on371 on371        0 Dec 15 17:51 typescript
drwxrwxr-x 3 on371 on371       15 Dec 19 21:51 [38;5;27mwch301[0m
-rw-r--r-- 1 on371 on371 48967680 Dec 15 15:28 [38;5;9mwch301.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mxl1407.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mxy983.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 21:53 [38;5;27myj1142[0m
-rw-r--r-- 1 on371 on371  1382400 Dec 15 15:28 [38;5;9myj1142.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 22:11 [38;5;27myy2085[0m
-rw-r--r-- 1 on371 on371   747520 Dec 15 15:28 [38;5;9myy2085.tar[0m
drwxrwxr-x 4 on371 on371       24 Dec 23 11:36 [38;5;27myy2147[0m
-rw-r--r-- 1 on371 on371   706560 Dec 22 23:22 [38;5;9myy2147-p2.tar[0m
-rw-r--r-- 1 on371 on371    81920 Dec 22 23:22 [38;5;9myy2147-p3.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9myy2147.tar[0m
drwxrwxr-x 3 on371 on371       17 Dec 22 02:55 [38;5;27mzq419[0m
-rw-r--r-- 1 on371 on371   225280 Dec 15 15:28 [38;5;9mzq419.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 23 11:44 [38;5;27mzz1558[0m
-rw-r--r-- 1 on371 on371   901120 Dec 22 23:22 [38;5;9mzz1558-p2.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mzz1558.tar[0m
]0;on371@F4Linux1:~/P2[on371@F4Linux1 P2]$ cd lm3338/
]0;on371@F4Linux1:~/P2/lm3338[on371@F4Linux1 lm3338]$ lw -[K[K[Kw -[K[K[K[Klq -l[K[K[K[K [Ks -l
total 0
drwxrwxr-x 3 on371 on371 98 Dec  8 00:56 [0m[38;5;27mP2[0m
]0;on371@F4Linux1:~/P2/lm3338[on371@F4Linux1 lm3338]$ cd P2
]0;on371@F4Linux1:~/P2/lm3338/P2[on371@F4Linux1 P2]$ ls -l
total 484
-rw-rw-r-- 1 on371 on371  15694 Dec  2 22:49 data21.txt
-rw-rw-r-- 1 on371 on371 455147 Dec  3 22:57 Project2_Report.pdf
drwxrwxr-x 3 on371 on371    122 Dec 23 12:11 [0m[38;5;27msrc[0m
-rw-rw-r-- 1 on371 on371   6300 Dec  3 18:24 testdata.txt
-rw-rw-r-- 1 on371 on371   9394 Dec  3 18:24 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2[on371@F4Linux1 P2]$ cd src
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ ls -l
total 79228
-rw-rw-r-- 1 on371 on371 81097269 Dec  8 14:41 [0m[38;5;9mlifanSVM.jar[0m
-rw-rw-r-- 1 on371 on371      403 Dec  4 17:45 Rcode.txt
-rw-rw-r-- 1 on371 on371     1198 Dec  8 00:53 scalacode.txt
drwxrwxr-x 2 on371 on371        6 Dec 23 12:11 [38;5;27mspark-warehouse[0m
-rw-rw-r-- 1 on371 on371     6300 Dec 23 12:10 testdata.txt
-rw-rw-r-- 1 on371 on371     9394 Dec 23 12:10 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ vi Ro[Kcode.txt 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;66r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[66;1H"Rcode.txt" [noeol][dos] 15L, 403C[>c[1;1Hlibrary("e1071")
library(ROCR)
library(nnet)

rawdata <- read.delim("data21.txt", header=FALSE)

rawdata <- read.csv("C:\\Users\\lifan\\Desktop\\9223\\data\\R\\data21.csv", header = TRUE)
rawdata <- rawdata[1:100,]
str(rawdata)
traindata <- rawdata[1:60,]
testdata <- rawdata[61:100,]

svl <- svm(type~., data = traindata, kernel= "linear")

pred <- predict(svl, testdata, probability = T)
[94m~                                                                                                                                                                                                           [17;1H~                                                                                                                                                                                                           [18;1H~                                                                                                                                                                                                           [19;1H~                                                                                                                                                                                                           [20;1H~                                                                                                                                                                                                           [21;1H~                                                                                                                                                                                                           [22;1H~                                                                                                                                                                                                           [23;1H~                                                                                                                                                                                                           [24;1H~                                                                                                                                                                                                           [25;1H~                                                                                                                                                                                                           [26;1H~                                                                                                                                                                                                           [27;1H~                                                                                                                                                                                                           [28;1H~                                                                                                                                                                                                           [29;1H~                                                                                                                                                                                                           [30;1H~                                                                                                                                                                                                           [31;1H~                                                                                                                                                                                                           [32;1H~                                                                                                                                                                                                           [33;1H~                                                                                                                                                                                                           [34;1H~                                                                                                                                                                                                           [35;1H~                                                                                                                                                                                                           [36;1H~                                                                                                                                                                                                           [37;1H~                                                                                                                                                                                                           [38;1H~                                                                                                                                                                                                           [39;1H~                                                                                                                                                                                                           [40;1H~                                                                                                                                                                                                           [41;1H~                                                                                                                                                                                                           [42;1H~                                                                                                                                                                                                           [43;1H~                                                                                                                                                                                                           [44;1H~                                                                                                                                                                                                           [45;1H~                                                                                                                                                                                                           [46;1H~                                                                                                                                                                                                           [47;1H~                                                                                                                                                                                                           [48;1H~                                                                                                                                                                                                           [49;1H~                                                                                                                                                                                                           [50;1H~                                                                                                                                                                                                           [51;1H~                                                                                                                                                                                                           [52;1H~                                                                                                                                                                                                           [53;1H~                                                                                                                                                                                                           [54;1H~                                                                                                                                                                                                           [55;1H~                                                                                                                                                                                                           [56;1H~                                                                                                                                                                                                           [57;1H~                                                                                                                                                                                                           [58;1H~                                                                                                                                                                                                           [59;1H~                                                                                                                                                                                                           [60;1H~                                                                                                                                                                                                           [61;1H~                                                                                                                                                                                                           [62;1H~                                                                                                                                                                                                           [63;1H~                                                                                                                                                                                                           [64;1H~                                                                                                                                                                                                           [65;1H~                                                                                                                                                                                                           [m[66;187H1,1[11CAll[1;1H[?12l[?25h[?25l[66;1H[1m-- INSERT --[m[66;13H[K[66;187H1,1[11CAll[1;1H[?12l[?25h[?25l[66;187H2[2;1H[?12l[?25h[?25l[66;187H3[3;1H[?12l[?25h[?25l[66;187H4[4;1H[?12l[?25h[?25l[66;187H5[5;1H[?12l[?25h[?25l[66;187H6[6;1H[?12l[?25h[?25l[66;187H7[7;1H[?12l[?25h[?25l[66;187H8[8;1H[?12l[?25h[?25l[66;189H2[8;2H[?12l[?25h[?25l[66;187H7[7;2H[?12l[?25h[?25l[66;189H3[7;3H[?12l[?25h[?25l[66;189H4[7;4H[?12l[?25h[?25l[66;189H5[7;5H[?12l[?25h[?25l[66;189H6[7;6H[?12l[?25h[?25l[66;189H7[7;7H[?12l[?25h[?25l[66;189H8[7;8H[?12l[?25h[?25l[66;189H9[7;9H[?12l[?25h[?25l[66;189H10[7;10H[?12l[?25h[?25l[66;190H1[7;11H[?12l[?25h[?25l[66;190H2[7;12H[?12l[?25h[?25l[66;190H3[7;13H[?12l[?25h[?25l[66;190H4[7;14H[?12l[?25h[?25l[66;190H5[7;15H[?12l[?25h[?25l[66;190H6[7;16H[?12l[?25h[?25l[66;190H7[7;17H[?12l[?25h[?25l[66;190H8[7;18H[?12l[?25h[?25l[66;190H9[7;19H[?12l[?25h[?25lv[106m([69C)[m[66;189H20[7;20H[?12l[?25h[?25l[66;187H[K[66;187H7,21[10CAll[7;21H[?12l[?25h[?25l([69C)[66;190H2[7;22H[?12l[?25h[?25l[66;190H3[7;23H[?12l[?25h[?25l[66;190H4[7;24H[?12l[?25h[?25l[66;190H5[7;25H[?12l[?25h[?25l[66;190H6[7;26H[?12l[?25h[?25l[66;190H7[7;27H[?12l[?25h[?25l[66;190H8[7;28H[?12l[?25h[?25l[66;190H9[7;29H[?12l[?25h[?25l[66;189H30[7;30H[?12l[?25h[?25l[66;190H1[7;31H[?12l[?25h[?25l[66;190H2[7;32H[?12l[?25h[?25l[66;190H3[7;33H[?12l[?25h[?25l[66;190H4[7;34H[?12l[?25h[?25l[66;190H5[7;35H[?12l[?25h[?25l[66;190H6[7;36H[?12l[?25h[?25l[66;190H7[7;37H[?12l[?25h[?25l[66;190H8[7;38H[?12l[?25h[?25l[66;190H9[7;39H[?12l[?25h[?25l[66;189H40[7;40H[?12l[?25h[?25l[66;190H1[7;41H[?12l[?25h[?25l[66;190H2[7;42H[?12l[?25h[?25l[66;190H3[7;43H[?12l[?25h[?25l[66;190H4[7;44H[?12l[?25h[?25l[66;190H5[7;45H[?12l[?25h[?25l[66;190H6[7;46H[?12l[?25h[?25l[66;190H7[7;47H[?12l[?25h[?25l[66;190H8[7;48H[?12l[?25h[?25l[66;190H9[7;49H[?12l[?25h[?25l[66;189H50[7;50H[?12l[?25h[?25l[66;190H1[7;51H[?12l[?25h[?25l[66;190H2[7;52H[?12l[?25h[?25l[66;190H3[7;53H[?12l[?25h[?25l[66;190H4[7;54H[?12l[?25h[?25l[66;190H5[7;55H[?12l[?25h[?25l[66;190H6[7;56H[?12l[?25h[?25l[66;190H7[7;57H[?12l[?25h[?25l[66;190H8[7;58H[?12l[?25h[?25l[66;190H9[7;59H[?12l[?25h[?25l[66;189H60[7;60H[?12l[?25h[?25l[66;190H1[7;61H[?12l[?25h[?25l[66;190H2[7;62H[?12l[?25h[?25l[66;190H3[7;63H[?12l[?25h[?25l[66;190H4[7;64H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;90H[K[66;190H3[7;63H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;89H[K[66;190H2[7;62H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;88H[K[66;190H1[7;61H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;87H[K[66;190H0[7;60H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;86H[K[66;189H59[7;59H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;85H[K[66;190H8[7;58H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;84H[K[66;190H7[7;57H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;83H[K[66;190H6[7;56H[?12l[?25h[?25lata21.csv", header = TRUE)[7;82H[K[66;190H5[7;55H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;81H[K[66;190H4[7;54H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;80H[K[66;190H3[7;53H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;79H[K[66;190H2[7;52H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;78H[K[66;190H1[7;51H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;77H[K[66;190H0[7;50H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;76H[K[66;189H49[7;49H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;75H[K[66;190H8[7;48H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;74H[K[66;190H7[7;47H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;73H[K[66;190H6[7;46H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;72H[K[66;190H5[7;45H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;71H[K[66;190H4[7;44H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;70H[K[66;190H3[7;43H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;69H[K[66;190H2[7;42H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;68H[K[66;190H1[7;41H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;67H[K[66;190H0[7;40H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;66H[K[66;189H39[7;39H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;65H[K[66;190H8[7;38H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;64H[K[66;190H7[7;37H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;63H[K[66;190H6[7;36H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;62H[K[66;190H5[7;35H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;61H[K[66;190H4[7;34H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;60H[K[66;190H3[7;33H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;59H[K[66;190H2[7;32H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;58H[K[66;190H1[7;31H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;57H[K[66;190H0[7;30H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;56H[K[66;189H29[7;29H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;55H[K[66;190H8[7;28H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;54H[K[66;190H7[7;27H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;53H[K[66;190H6[7;26H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;52H[K[66;190H5[7;25H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;51H[K[66;190H4[7;24H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;50H[K[66;190H3[7;23H[?12l[?25h[?25ldata21.csv", header = TRUE)[7;49H[K[66;190H2[7;22H[?12l[?25h[?25l.data21.csv", header = TRUE)[66;190H3[7;23H[?12l[?25h[?25l/data21.csv", header = TRUE)[66;190H4[7;24H[?12l[?25h[?25l[66;190H5[7;25H[?12l[?25h[?25l[66;190H6[7;26H[?12l[?25h[66;1H[K[7;25H[?25l[66;187H7,25[10CAll[7;25H[?12l[?25h[?25l[66;187H[K[66;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"Rcode.txt" [dos] 15L, 365C written
[?1l>[?12l[?25h[?1049l]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ vi Rcode.txt Rcide[K[K[Kode.R
2 files to edit
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;66r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[66;1H"Rcode.txt" [dos] 15L, 365C[>c[1;1Hlibrary("e1071")
library(ROCR)
library(nnet)

rawdata <- read.delim("data21.txt", header=FALSE)

rawdata <- read.csv("./data21.csv", header = TRUE)
rawdata <- rawdata[1:100,]
str(rawdata)
traindata <- rawdata[1:60,]
testdata <- rawdata[61:100,]

svl <- svm(type~., data = traindata, kernel= "linear")

pred <- predict(svl, testdata, probability = T)
[94m~                                                                                                                                                                                                           [17;1H~                                                                                                                                                                                                           [18;1H~                                                                                                                                                                                                           [19;1H~                                                                                                                                                                                                           [20;1H~                                                                                                                                                                                                           [21;1H~                                                                                                                                                                                                           [22;1H~                                                                                                                                                                                                           [23;1H~                                                                                                                                                                                                           [24;1H~                                                                                                                                                                                                           [25;1H~                                                                                                                                                                                                           [26;1H~                                                                                                                                                                                                           [27;1H~                                                                                                                                                                                                           [28;1H~                                                                                                                                                                                                           [29;1H~                                                                                                                                                                                                           [30;1H~                                                                                                                                                                                                           [31;1H~                                                                                                                                                                                                           [32;1H~                                                                                                                                                                                                           [33;1H~                                                                                                                                                                                                           [34;1H~                                                                                                                                                                                                           [35;1H~                                                                                                                                                                                                           [36;1H~                                                                                                                                                                                                           [37;1H~                                                                                                                                                                                                           [38;1H~                                                                                                                                                                                                           [39;1H~                                                                                                                                                                                                           [40;1H~                                                                                                                                                                                                           [41;1H~                                                                                                                                                                                                           [42;1H~                                                                                                                                                                                                           [43;1H~                                                                                                                                                                                                           [44;1H~                                                                                                                                                                                                           [45;1H~                                                                                                                                                                                                           [46;1H~                                                                                                                                                                                                           [47;1H~                                                                                                                                                                                                           [48;1H~                                                                                                                                                                                                           [49;1H~                                                                                                                                                                                                           [50;1H~                                                                                                                                                                                                           [51;1H~                                                                                                                                                                                                           [52;1H~                                                                                                                                                                                                           [53;1H~                                                                                                                                                                                                           [54;1H~                                                                                                                                                                                                           [55;1H~                                                                                                                                                                                                           [56;1H~                                                                                                                                                                                                           [57;1H~                                                                                                                                                                                                           [58;1H~                                                                                                                                                                                                           [59;1H~                                                                                                                                                                                                           [60;1H~                                                                                                                                                                                                           [61;1H~                                                                                                                                                                                                           [62;1H~                                                                                                                                                                                                           [63;1H~                                                                                                                                                                                                           [64;1H~                                                                                                                                                                                                           [65;1H~                                                                                                                                                                                                           [m[66;187H7,1[11CAll[7;1H[?12l[?25h[?25l[66;1H[K[66;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[66;1H[K[66;1H[?1l>[?12l[?25h[?1049l]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ vi Rcode.txt Rcode.R[C[C[1P[1P[1@c[1@p
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ Rscript Rcode.
Fatal error: cannot open file 'Rcode.': No such file or directory
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ Rscript Rcode.R 
Loading required package: gplots

Attaching package: â€˜gplotsâ€™

The following object is masked from â€˜package:statsâ€™:

    lowess

Loading required package: methods
Error in file(file, "rt") : cannot open the connection
Calls: read.delim -> read.table -> file
In addition: Warning message:
In file(file, "rt") :
  cannot open file 'data21.txt': No such file or directory
Execution halted
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ CP [K[K[Kcp ../data21.txt .
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ cp ../data21.txt .[2PRscript Rcode.R 
Loading required package: gplots

Attaching package: â€˜gplotsâ€™

The following object is masked from â€˜package:statsâ€™:

    lowess

Loading required package: methods
Error in file(file, "rt") : cannot open the connection
Calls: read.csv -> read.table -> file
In addition: Warning message:
In file(file, "rt") :
  cannot open file './data21.csv': No such file or directory
Execution halted
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ Rscript Rcode.R cp ../data21.txt .[2PRscript Rcode.R 
Loading required package: gplots

Attaching package: â€˜gplotsâ€™

The following object is masked from â€˜package:statsâ€™:

    lowess

Loading required package: methods
Error in file(file, "rt") : cannot open the connection
Calls: read.csv -> read.table -> file
In addition: Warning message:
In file(file, "rt") :
  cannot open file './data21.csv': No such file or directory
Execution halted
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ Rscript Rcode.R cp ../data21.txt .[2PRscript Rcode.R [Kcp Rcode.txt Rcode.Rvi[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P Rcode.R[1P Rcode.R[1P Rcode.R[1P Rcode.R[1P Rcode.R[1P Rcode.R[1P Rcode.R[1P Rcode.R[1P Rcode.R[1PRcode.R
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;66r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[66;1H"Rcode.R" [dos] 15L, 365C[>c[1;1H[35mlibrary([m[31m"e1071"[m[35m)
library([mROCR[35m)
library([mnnet[35m)[m

rawdata [38;5;130m<-[m read.delim[35m([m[31m"data21.txt"[m[35m,[m header[38;5;130m=[m[31mFALSE[m[35m)[m

rawdata [38;5;130m<-[m read.csv[35m([m[31m"./data21.csv"[m[35m,[m header [38;5;130m=[m [31mTRUE[m[35m)[m
rawdata [38;5;130m<-[m rawdata[35m[[m[31m1[m[35m:[m[31m100[m[35m,][m
str[35m([mrawdata[35m)[m
traindata [38;5;130m<-[m rawdata[35m[[m[31m1[m[35m:[m[31m60[m[35m,][m
testdata [38;5;130m<-[m rawdata[35m[[m[31m61[m[35m:[m[31m100[m[35m,][m

svl [38;5;130m<-[m svm[35m([mtype[38;5;130m~[m.[35m,[m data [38;5;130m=[m traindata[35m,[m kernel[38;5;130m=[m [31m"linear"[m[35m)[m

pred [38;5;130m<-[m predict[35m([msvl[35m,[m testdata[35m,[m probability [38;5;130m=[m [31mT[m[35m)[m
[94m~                                                                                                                                                                                                           [17;1H~                                                                                                                                                                                                           [18;1H~                                                                                                                                                                                                           [19;1H~                                                                                                                                                                                                           [20;1H~                                                                                                                                                                                                           [21;1H~                                                                                                                                                                                                           [22;1H~                                                                                                                                                                                                           [23;1H~                                                                                                                                                                                                           [24;1H~                                                                                                                                                                                                           [25;1H~                                                                                                                                                                                                           [26;1H~                                                                                                                                                                                                           [27;1H~                                                                                                                                                                                                           [28;1H~                                                                                                                                                                                                           [29;1H~                                                                                                                                                                                                           [30;1H~                                                                                                                                                                                                           [31;1H~                                                                                                                                                                                                           [32;1H~                                                                                                                                                                                                           [33;1H~                                                                                                                                                                                                           [34;1H~                                                                                                                                                                                                           [35;1H~                                                                                                                                                                                                           [36;1H~                                                                                                                                                                                                           [37;1H~                                                                                                                                                                                                           [38;1H~                                                                                                                                                                                                           [39;1H~                                                                                                                                                                                                           [40;1H~                                                                                                                                                                                                           [41;1H~                                                                                                                                                                                                           [42;1H~                                                                                                                                                                                                           [43;1H~                                                                                                                                                                                                           [44;1H~                                                                                                                                                                                                           [45;1H~                                                                                                                                                                                                           [46;1H~                                                                                                                                                                                                           [47;1H~                                                                                                                                                                                                           [48;1H~                                                                                                                                                                                                           [49;1H~                                                                                                                                                                                                           [50;1H~                                                                                                                                                                                                           [51;1H~                                                                                                                                                                                                           [52;1H~                                                                                                                                                                                                           [53;1H~                                                                                                                                                                                                           [54;1H~                                                                                                                                                                                                           [55;1H~                                                                                                                                                                                                           [56;1H~                                                                                                                                                                                                           [57;1H~                                                                                                                                                                                                           [58;1H~                                                                                                                                                                                                           [59;1H~                                                                                                                                                                                                           [60;1H~                                                                                                                                                                                                           [61;1H~                                                                                                                                                                                                           [62;1H~                                                                                                                                                                                                           [63;1H~                                                                                                                                                                                                           [64;1H~                                                                                                                                                                                                           [65;1H~                                                                                                                                                                                                           [m[66;187H1,1[11CAll[1;1H[?12l[?25h[?25l[66;187H2[2;1H[?12l[?25h[?25l[66;187H3[3;1H[?12l[?25h[?25l[66;187H4,0-1[4;1H[?12l[?25h[?25l[66;187H5,1  [5;1H[?12l[?25h[?25l[66;1H[K[66;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"Rcode.R" [dos] 15L, 365C written
[?1l>[?12l[?25h[?1049l]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ ;s[K[Kls -l
total 79248
-rw-rw-r-- 1 on371 on371    15694 Dec 23 13:10 data21.txt
-rw-rw-r-- 1 on371 on371 81097269 Dec  8 14:41 [0m[38;5;9mlifanSVM.jar[0m
-rw-rw-r-- 1 on371 on371      365 Dec 23 13:12 Rcode.R
-rw-rw-r-- 1 on371 on371      365 Dec 23 13:09 Rcode.txt
-rw-rw-r-- 1 on371 on371     1198 Dec  8 00:53 scalacode.txt
drwxrwxr-x 2 on371 on371        6 Dec 23 12:11 [38;5;27mspark-warehouse[0m
-rw-rw-r-- 1 on371 on371     6300 Dec 23 12:10 testdata.txt
-rw-rw-r-- 1 on371 on371     9394 Dec 23 12:10 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ cd ../
]0;on371@F4Linux1:~/P2/lm3338/P2[on371@F4Linux1 P2]$ ls -l
total 484
-rw-rw-r-- 1 on371 on371  15694 Dec  2 22:49 data21.txt
-rw-rw-r-- 1 on371 on371 455147 Dec  3 22:57 Project2_Report.pdf
drwxrwxr-x 3 on371 on371    153 Dec 23 13:12 [0m[38;5;27msrc[0m
-rw-rw-r-- 1 on371 on371   6300 Dec  3 18:24 testdata.txt
-rw-rw-r-- 1 on371 on371   9394 Dec  3 18:24 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2[on371@F4Linux1 P2]$ cd ...[K
]0;on371@F4Linux1:~/P2/lm3338[on371@F4Linux1 lm3338]$ ;s[K[Kls -l
total 0
drwxrwxr-x 3 on371 on371 98 Dec  8 00:56 [0m[38;5;27mP2[0m
]0;on371@F4Linux1:~/P2/lm3338[on371@F4Linux1 lm3338]$ dc [K[K[Kcd[K[Kcd P2
]0;on371@F4Linux1:~/P2/lm3338/P2[on371@F4Linux1 P2]$ l[Kls -l
total 484
-rw-rw-r-- 1 on371 on371  15694 Dec  2 22:49 data21.txt
-rw-rw-r-- 1 on371 on371 455147 Dec  3 22:57 Project2_Report.pdf
drwxrwxr-x 3 on371 on371    153 Dec 23 13:12 [0m[38;5;27msrc[0m
-rw-rw-r-- 1 on371 on371   6300 Dec  3 18:24 testdata.txt
-rw-rw-r-- 1 on371 on371   9394 Dec  3 18:24 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2[on371@F4Linux1 P2]$ c[Kcd sec[K[Kec[K[Krc
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ ls -l
total 79248
-rw-rw-r-- 1 on371 on371    15694 Dec 23 13:10 data21.txt
-rw-rw-r-- 1 on371 on371 81097269 Dec  8 14:41 [0m[38;5;9mlifanSVM.jar[0m
-rw-rw-r-- 1 on371 on371      365 Dec 23 13:12 Rcode.R
-rw-rw-r-- 1 on371 on371      365 Dec 23 13:09 Rcode.txt
-rw-rw-r-- 1 on371 on371     1198 Dec  8 00:53 scalacode.txt
drwxrwxr-x 2 on371 on371        6 Dec 23 12:11 [38;5;27mspark-warehouse[0m
-rw-rw-r-- 1 on371 on371     6300 Dec 23 12:10 testdata.txt
-rw-rw-r-- 1 on371 on371     9394 Dec 23 12:10 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ cds[K spark-warehouse/
]0;on371@F4Linux1:~/P2/lm3338/P2/src/spark-warehouse[on371@F4Linux1 spark-warehouse]$ ls -l
total 0
]0;on371@F4Linux1:~/P2/lm3338/P2/src/spark-warehouse[on371@F4Linux1 spark-warehouse]$ l[Kca [Kt Rcode\[K[K[K[K[K[K[K[K[Kd ..
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ ls -l
total 79248
-rw-rw-r-- 1 on371 on371    15694 Dec 23 13:10 data21.txt
-rw-rw-r-- 1 on371 on371 81097269 Dec  8 14:41 [0m[38;5;9mlifanSVM.jar[0m
-rw-rw-r-- 1 on371 on371      365 Dec 23 13:12 Rcode.R
-rw-rw-r-- 1 on371 on371      365 Dec 23 13:09 Rcode.txt
-rw-rw-r-- 1 on371 on371     1198 Dec  8 00:53 scalacode.txt
drwxrwxr-x 2 on371 on371        6 Dec 23 12:11 [38;5;27mspark-warehouse[0m
-rw-rw-r-- 1 on371 on371     6300 Dec 23 12:10 testdata.txt
-rw-rw-r-- 1 on371 on371     9394 Dec 23 12:10 traindata.txt
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ cat Rcode.txt 
library("e1071")
library(ROCR)
library(nnet)

rawdata <- read.delim("data21.txt", header=FALSE)

rawdata <- read.csv("./data21.csv", header = TRUE)
rawdata <- rawdata[1:100,]
str(rawdata)
traindata <- rawdata[1:60,]
testdata <- rawdata[61:100,]

svl <- svm(type~., data = traindata, kernel= "linear")

pred <- predict(svl, testdata, probability = T)
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ find [K[K[K[K[Kpwd
/home/2017/fall/nyu/cs9223/on371/P2/lm3338/P2/src
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ find /[K/home/2017/fall/nyu/cs9223/on371/P2/lm3338/v[K -name "data21.csv" [1P [1P
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ find /home/2017/fall/nyu/cs9223/on371/P2/lm3338/ -name data21.csv [K[K[K[Ktxt
/home/2017/fall/nyu/cs9223/on371/P2/lm3338/P2/src/data21.txt
/home/2017/fall/nyu/cs9223/on371/P2/lm3338/P2/data21.txt
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ find /home/2017/fall/nyu/cs9223/on371/P2/lm3338/ -name data21.txt[K[K[Kcsv
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ 
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ 
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ vi Rcode.R 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;66r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[66;1H"Rcode.R" [dos] 15L, 365C[>c[1;1H[35mlibrary([m[31m"e1071"[m[35m)
library([mROCR[35m)
library([mnnet[35m)[m

rawdata [38;5;130m<-[m read.delim[35m([m[31m"data21.txt"[m[35m,[m header[38;5;130m=[m[31mFALSE[m[35m)[m

rawdata [38;5;130m<-[m read.csv[35m([m[31m"./data21.csv"[m[35m,[m header [38;5;130m=[m [31mTRUE[m[35m)[m
rawdata [38;5;130m<-[m rawdata[35m[[m[31m1[m[35m:[m[31m100[m[35m,][m
str[35m([mrawdata[35m)[m
traindata [38;5;130m<-[m rawdata[35m[[m[31m1[m[35m:[m[31m60[m[35m,][m
testdata [38;5;130m<-[m rawdata[35m[[m[31m61[m[35m:[m[31m100[m[35m,][m

svl [38;5;130m<-[m svm[35m([mtype[38;5;130m~[m.[35m,[m data [38;5;130m=[m traindata[35m,[m kernel[38;5;130m=[m [31m"linear"[m[35m)[m

pred [38;5;130m<-[m predict[35m([msvl[35m,[m testdata[35m,[m probability [38;5;130m=[m [31mT[m[35m)[m
[94m~                                                                                                                                                                                                           [17;1H~                                                                                                                                                                                                           [18;1H~                                                                                                                                                                                                           [19;1H~                                                                                                                                                                                                           [20;1H~                                                                                                                                                                                                           [21;1H~                                                                                                                                                                                                           [22;1H~                                                                                                                                                                                                           [23;1H~                                                                                                                                                                                                           [24;1H~                                                                                                                                                                                                           [25;1H~                                                                                                                                                                                                           [26;1H~                                                                                                                                                                                                           [27;1H~                                                                                                                                                                                                           [28;1H~                                                                                                                                                                                                           [29;1H~                                                                                                                                                                                                           [30;1H~                                                                                                                                                                                                           [31;1H~                                                                                                                                                                                                           [32;1H~                                                                                                                                                                                                           [33;1H~                                                                                                                                                                                                           [34;1H~                                                                                                                                                                                                           [35;1H~                                                                                                                                                                                                           [36;1H~                                                                                                                                                                                                           [37;1H~                                                                                                                                                                                                           [38;1H~                                                                                                                                                                                                           [39;1H~                                                                                                                                                                                                           [40;1H~                                                                                                                                                                                                           [41;1H~                                                                                                                                                                                                           [42;1H~                                                                                                                                                                                                           [43;1H~                                                                                                                                                                                                           [44;1H~                                                                                                                                                                                                           [45;1H~                                                                                                                                                                                                           [46;1H~                                                                                                                                                                                                           [47;1H~                                                                                                                                                                                                           [48;1H~                                                                                                                                                                                                           [49;1H~                                                                                                                                                                                                           [50;1H~                                                                                                                                                                                                           [51;1H~                                                                                                                                                                                                           [52;1H~                                                                                                                                                                                                           [53;1H~                                                                                                                                                                                                           [54;1H~                                                                                                                                                                                                           [55;1H~                                                                                                                                                                                                           [56;1H~                                                                                                                                                                                                           [57;1H~                                                                                                                                                                                                           [58;1H~                                                                                                                                                                                                           [59;1H~                                                                                                                                                                                                           [60;1H~                                                                                                                                                                                                           [61;1H~                                                                                                                                                                                                           [62;1H~                                                                                                                                                                                                           [63;1H~                                                                                                                                                                                                           [64;1H~                                                                                                                                                                                                           [65;1H~                                                                                                                                                                                                           [m[66;187H5,1[11CAll[5;1H[?12l[?25h[?25l[66;187H6,0-1[6;1H[?12l[?25h[?25l[66;187H7,1  [7;1H[?12l[?25h[?25l[66;1H[1m-- INSERT --[m[66;13H[K[66;187H7,1[11CAll[7;1H[?12l[?25h[?25l[34m#rawdata <- read.csv("./data21.csv", header = TRUE)[m[66;189H2[7;2H[?12l[?25h[66;1H[K[7;1H[?25l[66;187H7,1[11CAll[7;1H[?12l[?25h[?25l[66;187H8[8;1H[?12l[?25h[?25l[66;187H[K[66;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"Rcode.R" [dos] 15L, 366C written
[?1l>[?12l[?25h[?1049l]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ vi Rcode.R find /home/2017/fall/nyu/cs9223/on371/P2/lm3338/ -name data21.csv[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi Rcode.R [K[KRscript r[KRcode.R \[K[K
Loading required package: gplots

Attaching package: â€˜gplotsâ€™

The following object is masked from â€˜package:statsâ€™:

    lowess

Loading required package: methods
'data.frame':	100 obs. of  21 variables:
 $ V1 : int  0 1 1 1 1 0 1 1 0 0 ...
 $ V2 : Factor w/ 96 levels "100/166","101/11",..: 44 90 16 73 69 63 89 1 81 48 ...
 $ V3 : Factor w/ 85 levels "100/255","101/222",..: 39 80 22 66 62 56 81 2 72 42 ...
 $ V4 : Factor w/ 85 levels "100/70","101/165",..: 36 81 16 62 59 51 79 3 73 34 ...
 $ V5 : Factor w/ 91 levels "102/114","123/9",..: 32 82 18 83 58 44 90 14 76 35 ...
 $ V6 : Factor w/ 96 levels "125/242","126/159",..: 24 93 31 84 83 66 95 14 81 23 ...
 $ V7 : Factor w/ 92 levels "126/245","127/113",..: 40 88 28 78 73 57 91 10 69 46 ...
 $ V8 : Factor w/ 93 levels "127/122","128/249",..: 33 86 24 76 70 48 88 10 72 36 ...
 $ V9 : Factor w/ 94 levels "129/63","130/2",..: 35 87 25 91 64 48 90 26 69 38 ...
 $ V10: Factor w/ 95 levels "131/120","131/19",..: 27 78 23 85 81 36 92 20 68 29 ...
 $ V11: Factor w/ 86 levels "133/34","151/182",..: 25 80 34 74 70 30 79 21 56 27 ...
 $ V12: Factor w/ 84 levels "134/18","152/253",..: 23 79 30 71 65 25 80 19 53 31 ...
 $ V13: Factor w/ 93 levels "151/53","153/253",..: 29 80 28 84 85 41 82 18 57 30 ...
 $ V14: Factor w/ 93 levels "152/238","154/253",..: 26 77 27 83 83 35 75 29 47 30 ...
 $ V15: Factor w/ 90 levels "153/252","155/253",..: 26 70 28 79 75 34 69 27 43 31 ...
 $ V16: Factor w/ 89 levels "154/252","156/253",..: 27 79 41 75 82 36 78 29 43 30 ...
 $ V17: Factor w/ 92 levels "155/252","157/253",..: 27 75 43 80 83 34 77 26 40 30 ...
 $ V18: Factor w/ 95 levels "156/252","158/23",..: 28 77 43 83 86 35 79 27 42 30 ...
 $ V19: Factor w/ 93 levels "157/252","160/250",..: 25 73 42 80 84 30 75 36 39 37 ...
 $ V20: Factor w/ 95 levels "158/252","161/71",..: 25 74 50 82 85 28 75 36 40 37 ...
 $ V21: Factor w/ 93 levels "159/252","163/43",..: 23 66 46 82 83 32 76 35 38 34 ...
Error in eval(predvars, data, env) : object 'type' not found
Calls: svm ... eval -> <Anonymous> -> model.frame.default -> eval -> eval
Execution halted
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ Rscript Rcode.R[4Pvi Rcode.R 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;66r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[66;1H"Rcode.R" [dos] 15L, 366C[>c[1;1H[35mlibrary([m[31m"e1071"[m[35m)
library([mROCR[35m)
library([mnnet[35m)[m

rawdata [38;5;130m<-[m read.delim[35m([m[31m"data21.txt"[m[35m,[m header[38;5;130m=[m[31mFALSE[m[35m)[m

[34m#rawdata <- read.csv("./data21.csv", header = TRUE)[m
rawdata [38;5;130m<-[m rawdata[35m[[m[31m1[m[35m:[m[31m100[m[35m,][m
str[35m([mrawdata[35m)[m
traindata [38;5;130m<-[m rawdata[35m[[m[31m1[m[35m:[m[31m60[m[35m,][m
testdata [38;5;130m<-[m rawdata[35m[[m[31m61[m[35m:[m[31m100[m[35m,][m

svl [38;5;130m<-[m svm[35m([mtype[38;5;130m~[m.[35m,[m data [38;5;130m=[m traindata[35m,[m kernel[38;5;130m=[m [31m"linear"[m[35m)[m

pred [38;5;130m<-[m predict[35m([msvl[35m,[m testdata[35m,[m probability [38;5;130m=[m [31mT[m[35m)[m
[94m~                                                                                                                                                                                                           [17;1H~                                                                                                                                                                                                           [18;1H~                                                                                                                                                                                                           [19;1H~                                                                                                                                                                                                           [20;1H~                                                                                                                                                                                                           [21;1H~                                                                                                                                                                                                           [22;1H~                                                                                                                                                                                                           [23;1H~                                                                                                                                                                                                           [24;1H~                                                                                                                                                                                                           [25;1H~                                                                                                                                                                                                           [26;1H~                                                                                                                                                                                                           [27;1H~                                                                                                                                                                                                           [28;1H~                                                                                                                                                                                                           [29;1H~                                                                                                                                                                                                           [30;1H~                                                                                                                                                                                                           [31;1H~                                                                                                                                                                                                           [32;1H~                                                                                                                                                                                                           [33;1H~                                                                                                                                                                                                           [34;1H~                                                                                                                                                                                                           [35;1H~                                                                                                                                                                                                           [36;1H~                                                                                                                                                                                                           [37;1H~                                                                                                                                                                                                           [38;1H~                                                                                                                                                                                                           [39;1H~                                                                                                                                                                                                           [40;1H~                                                                                                                                                                                                           [41;1H~                                                                                                                                                                                                           [42;1H~                                                                                                                                                                                                           [43;1H~                                                                                                                                                                                                           [44;1H~                                                                                                                                                                                                           [45;1H~                                                                                                                                                                                                           [46;1H~                                                                                                                                                                                                           [47;1H~                                                                                                                                                                                                           [48;1H~                                                                                                                                                                                                           [49;1H~                                                                                                                                                                                                           [50;1H~                                                                                                                                                                                                           [51;1H~                                                                                                                                                                                                           [52;1H~                                                                                                                                                                                                           [53;1H~                                                                                                                                                                                                           [54;1H~                                                                                                                                                                                                           [55;1H~                                                                                                                                                                                                           [56;1H~                                                                                                                                                                                                           [57;1H~                                                                                                                                                                                                           [58;1H~                                                                                                                                                                                                           [59;1H~                                                                                                                                                                                                           [60;1H~                                                                                                                                                                                                           [61;1H~                                                                                                                                                                                                           [62;1H~                                                                                                                                                                                                           [63;1H~                                                                                                                                                                                                           [64;1H~                                                                                                                                                                                                           [65;1H~                                                                                                                                                                                                           [m[66;187H8,1[11CAll[8;1H[?12l[?25h[?25l[66;187H9[9;1H[?12l[?25h[?25l[66;187H10,1[10;1H[?12l[?25h[?25l[66;188H1[11;1H[?12l[?25h[?25l[66;188H2,0-1[12;1H[?12l[?25h[?25l[66;188H3,1  [13;1H[?12l[?25h[?25l[66;188H4,0-1[14;1H[?12l[?25h[?25l[66;188H3,1  [13;1H[?12l[?25h[?25l[66;188H2,0-1[12;1H[?12l[?25h[?25l[66;188H1,1  [11;1H[?12l[?25h[?25l[66;188H0[10;1H[?12l[?25h[?25l[66;188H1[11;1H[?12l[?25h[?25l[66;188H2,0-1[12;1H[?12l[?25h[?25l[66;188H3,1  [13;1H[?12l[?25h[?25l[66;188H4,0-1[14;1H[?12l[?25h[?25l[66;188H5,1  [15;1H[?12l[?25h[?25l[66;1H[K[66;1H:[?12l[?25hq[?25l[?12l[?25h1[?25l[?12l[?25h[?25l[97m[41mE488: Trailing characters[m[161C15,1[10CAll[15;1H[?12l[?25h[?25l[66;1H[K[66;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[66;1H[K[66;1H[?1l>[?12l[?25h[?1049l]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ R

R version 3.4.1 (2017-06-30) -- "Single Candle"
Copyright (C) 2017 The R Foundation for Statistical Computing
Platform: powerpc64le-redhat-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[?1034h> library("e1071")
> library(ROCR)
Loading required package: gplots

Attaching package: â€˜gplotsâ€™

The following object is masked from â€˜package:statsâ€™:

    lowess

> library(nnet)
> 
> rawdata <- read.delim("data21.txt", header=FALSE)
> 
> #rawdata <- read.csv("./data21.csv", header = TRUE)
> rawdata <- rawdata[1:100,]
> str(rawdata)
'data.frame':	100 obs. of  21 variables:
 $ V1 : int  0 1 1 1 1 0 1 1 0 0 ...
 $ V2 : Factor w/ 96 levels "100/166","101/11",..: 44 90 16 73 69 63 89 1 81 48 ...
 $ V3 : Factor w/ 85 levels "100/255","101/222",..: 39 80 22 66 62 56 81 2 72 42 ...
 $ V4 : Factor w/ 85 levels "100/70","101/165",..: 36 81 16 62 59 51 79 3 73 34 ...
 $ V5 : Factor w/ 91 levels "102/114","123/9",..: 32 82 18 83 58 44 90 14 76 35 ...
 $ V6 : Factor w/ 96 levels "125/242","126/159",..: 24 93 31 84 83 66 95 14 81 23 ...
 $ V7 : Factor w/ 92 levels "126/245","127/113",..: 40 88 28 78 73 57 91 10 69 46 ...
 $ V8 : Factor w/ 93 levels "127/122","128/249",..: 33 86 24 76 70 48 88 10 72 36 ...
 $ V9 : Factor w/ 94 levels "129/63","130/2",..: 35 87 25 91 64 48 90 26 69 38 ...
 $ V10: Factor w/ 95 levels "131/120","131/19",..: 27 78 23 85 81 36 92 20 68 29 ...
 $ V11: Factor w/ 86 levels "133/34","151/182",..: 25 80 34 74 70 30 79 21 56 27 ...
 $ V12: Factor w/ 84 levels "134/18","152/253",..: 23 79 30 71 65 25 80 19 53 31 ...
 $ V13: Factor w/ 93 levels "151/53","153/253",..: 29 80 28 84 85 41 82 18 57 30 ...
 $ V14: Factor w/ 93 levels "152/238","154/253",..: 26 77 27 83 83 35 75 29 47 30 ...
 $ V15: Factor w/ 90 levels "153/252","155/253",..: 26 70 28 79 75 34 69 27 43 31 ...
 $ V16: Factor w/ 89 levels "154/252","156/253",..: 27 79 41 75 82 36 78 29 43 30 ...
 $ V17: Factor w/ 92 levels "155/252","157/253",..: 27 75 43 80 83 34 77 26 40 30 ...
 $ V18: Factor w/ 95 levels "156/252","158/23",..: 28 77 43 83 86 35 79 27 42 30 ...
 $ V19: Factor w/ 93 levels "157/252","160/250",..: 25 73 42 80 84 30 75 36 39 37 ...
 $ V20: Factor w/ 95 levels "158/252","161/71",..: 25 74 50 82 85 28 75 36 40 37 ...
 $ V21: Factor w/ 93 levels "159/252","163/43",..: 23 66 46 82 83 32 76 35 38 34 ...
> traindata <- rawdata[1:60,]
> testdata <- rawdata[61:100,]
> 
> svl <- svm(type~., data = traindata, kernel= "linear")
Error in eval(predvars, data, env) : object 'type' not found
> 
> pred <- predict(svl, testdata, probability = T)
Error in predict(svl, testdata, probability = T) : object 'svl' not found
> ^Z
[2]+  Stopped                 R
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ 
]0;on371@F4Linux1:~/P2/lm3338/P2/src[on371@F4Linux1 src]$ cd ../cd[K[K../
]0;on371@F4Linux1:~/P2/lm3338[on371@F4Linux1 lm3338]$ ls-[K -l
total 0
drwxrwxr-x 3 on371 on371 98 Dec  8 00:56 [0m[38;5;27mP2[0m
]0;on371@F4Linux1:~/P2/lm3338[on371@F4Linux1 lm3338]$ cd ..//
]0;on371@F4Linux1:~/P2[on371@F4Linux1 P2]$ d[Kls -l
total 173352
drwxrwxr-x 3 on371 on371       39 Dec 21 23:54 [0m[38;5;27maat414[0m
-rw-r--r-- 1 on371 on371  1771520 Dec 15 15:28 [38;5;9maat414.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mag6288.tar[0m
drwxrwxr-x 3 on371 on371       17 Dec 22 02:15 [38;5;27mav1912[0m
-rw-r--r-- 1 on371 on371   614400 Dec 15 15:28 [38;5;9mav1912.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 21 01:02 [38;5;27mbx361[0m
-rw-r--r-- 1 on371 on371  3706880 Dec 15 15:28 [38;5;9mbx361.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 15:18 [38;5;27mch2958[0m
-rw-r--r-- 1 on371 on371   604160 Dec 15 15:28 [38;5;9mch2958.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 23 11:49 [38;5;27mhj997[0m
-rw-r--r-- 1 on371 on371 15093760 Dec 22 23:22 [38;5;9mhj997-p2.tar[0m
-rw-r--r-- 1 on371 on371 13854720 Dec 22 23:22 [38;5;9mhj997-p3.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 16:04 [38;5;27mjw4321[0m
-rw-r--r-- 1 on371 on371   952320 Dec 15 15:28 [38;5;9mjw4321.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 22 01:24 [38;5;27mjy2268[0m
-rw-r--r-- 1 on371 on371   849920 Dec 15 15:28 [38;5;9mjy2268.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mkl2830.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 17:11 [38;5;27mll3346[0m
-rw-r--r-- 1 on371 on371   266240 Dec 15 15:28 [38;5;9mll3346.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 23 12:09 [38;5;27mlm3338[0m
-rw-r--r-- 1 on371 on371 81602560 Dec 22 23:22 [38;5;9mlm3338-p2.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 19:03 [38;5;27mmy779[0m
-rw-r--r-- 1 on371 on371   563200 Dec 15 15:28 [38;5;9mmy779.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 19:21 [38;5;27mnpb258[0m
-rw-r--r-- 1 on371 on371  2201600 Dec 15 15:28 [38;5;9mnpb258.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mon371.tar[0m
drwxrwxr-x 3 on371 on371       26 Dec 23 12:16 [38;5;27mrh2619[0m
-rw-r--r-- 1 on371 on371  1361920 Dec 22 23:22 [38;5;9mrh2619-p2.tar[0m
-rw-r--r-- 1 on371 on371    71680 Dec 22 23:22 [38;5;9mrh2619-p3.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mrh2619.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9msb5925.tar[0m
drwxr-xr-x 4 on371 on371     4096 Dec 22 01:05 [38;5;27msrc[0m
drwxr-xr-x 3 on371 on371       96 Dec 15 15:28 [38;5;27mssk624.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 20:23 [38;5;27msw3551[0m
-rw-r--r-- 1 on371 on371   839680 Dec 15 15:28 [38;5;9msw3551.tar[0m
-rw-rw-r-- 1 on371 on371     1434 Dec 19 20:48 sw3551.txt
-rw-rw-r-- 1 on371 on371        0 Dec 15 17:51 typescript
drwxrwxr-x 3 on371 on371       15 Dec 19 21:51 [38;5;27mwch301[0m
-rw-r--r-- 1 on371 on371 48967680 Dec 15 15:28 [38;5;9mwch301.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mxl1407.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mxy983.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 21:53 [38;5;27myj1142[0m
-rw-r--r-- 1 on371 on371  1382400 Dec 15 15:28 [38;5;9myj1142.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 19 22:11 [38;5;27myy2085[0m
-rw-r--r-- 1 on371 on371   747520 Dec 15 15:28 [38;5;9myy2085.tar[0m
drwxrwxr-x 4 on371 on371       24 Dec 23 11:36 [38;5;27myy2147[0m
-rw-r--r-- 1 on371 on371   706560 Dec 22 23:22 [38;5;9myy2147-p2.tar[0m
-rw-r--r-- 1 on371 on371    81920 Dec 22 23:22 [38;5;9myy2147-p3.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9myy2147.tar[0m
drwxrwxr-x 3 on371 on371       17 Dec 22 02:55 [38;5;27mzq419[0m
-rw-r--r-- 1 on371 on371   225280 Dec 15 15:28 [38;5;9mzq419.tar[0m
drwxrwxr-x 3 on371 on371       15 Dec 23 11:44 [38;5;27mzz1558[0m
-rw-r--r-- 1 on371 on371   901120 Dec 22 23:22 [38;5;9mzz1558-p2.tar[0m
-rw-r--r-- 1 on371 on371    10240 Dec 15 15:28 [38;5;9mzz1558.tar[0m
]0;on371@F4Linux1:~/P2[on371@F4Linux1 P2]$ cd hk[Kj997/
]0;on371@F4Linux1:~/P2/hj997[on371@F4Linux1 hj997]$ ls -l
total 4
drwxr-xr-x 4 on371 on371 4096 Dec 23 12:54 [0m[38;5;27mP2[0m
]0;on371@F4Linux1:~/P2/hj997[on371@F4Linux1 hj997]$ cd P2
]0;on371@F4Linux1:~/P2/hj997/P2[on371@F4Linux1 P2]$ ls -l
total 1276
-rw-rw-r-- 1 on371 on371   23815 Dec 23 12:54 Mydata.csv
-rw-rw-r-- 1 on371 on371 1168386 Dec  7 15:11 PROJECT 2 hj997.pdf
-rw-rw-r-- 1 on371 on371    4477 Dec 23 12:54 Rplots.pdf
drwxrwxr-x 6 on371 on371      71 Dec  7 15:17 [0m[38;5;27mSparkClass_2.0_final[0m
-rw-rw-r-- 1 on371 on371    5741 Dec  7 14:58 [38;5;9msparkclass_2-0_final_2.11-1.0.jar[0m
drwxrwxr-x 2 on371 on371       6 Dec 23 11:54 [38;5;27mspark-warehouse[0m
-rw-rw-r-- 1 on371 on371    1142 Dec 23 12:54 tes2-hj997.R
-rw-rw-r-- 1 on371 on371    5325 Dec 23 12:54 test.csv
-rw-rw-r-- 1 on371 on371   61194 Nov 19 11:37 titanic-train.csv
-rw-rw-r-- 1 on371 on371   18490 Dec 23 12:54 train.csv
]0;on371@F4Linux1:~/P2/hj997/P2[on371@F4Linux1 P2]$ spark-submit --master local[*] --class NaiveBayesExample sparkclass_2-0_final_2.11-1.0.jar
Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties
17/12/23 13:27:16 INFO SparkContext: Running Spark version 2.2.0
17/12/23 13:27:17 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
17/12/23 13:27:17 INFO SparkContext: Submitted application: NaiveBayesExample
17/12/23 13:27:17 INFO SecurityManager: Changing view acls to: on371
17/12/23 13:27:17 INFO SecurityManager: Changing modify acls to: on371
17/12/23 13:27:17 INFO SecurityManager: Changing view acls groups to: 
17/12/23 13:27:17 INFO SecurityManager: Changing modify acls groups to: 
17/12/23 13:27:17 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(on371); groups with view permissions: Set(); users  with modify permissions: Set(on371); groups with modify permissions: Set()
17/12/23 13:27:17 INFO Utils: Successfully started service 'sparkDriver' on port 38679.
17/12/23 13:27:17 INFO SparkEnv: Registering MapOutputTracker
17/12/23 13:27:17 INFO SparkEnv: Registering BlockManagerMaster
17/12/23 13:27:17 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information
17/12/23 13:27:17 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up
17/12/23 13:27:17 INFO DiskBlockManager: Created local directory at /tmp/blockmgr-353d08df-2c75-4c18-a905-dcd6762907df
17/12/23 13:27:17 INFO MemoryStore: MemoryStore started with capacity 366.3 MB
17/12/23 13:27:17 INFO SparkEnv: Registering OutputCommitCoordinator
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4040. Attempting port 4041.
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4041. Attempting port 4042.
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4042. Attempting port 4043.
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4043. Attempting port 4044.
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4044. Attempting port 4045.
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4045. Attempting port 4046.
17/12/23 13:27:17 WARN Utils: Service 'SparkUI' could not bind on port 4046. Attempting port 4047.
17/12/23 13:27:17 INFO Utils: Successfully started service 'SparkUI' on port 4047.
17/12/23 13:27:17 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://12.42.205.8:4047
17/12/23 13:27:17 INFO SparkContext: Added JAR file:/home/2017/fall/nyu/cs9223/on371/P2/hj997/P2/sparkclass_2-0_final_2.11-1.0.jar at spark://12.42.205.8:38679/jars/sparkclass_2-0_final_2.11-1.0.jar with timestamp 1514053637965
17/12/23 13:27:18 INFO Executor: Starting executor ID driver on host localhost
17/12/23 13:27:18 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 33292.
17/12/23 13:27:18 INFO NettyBlockTransferService: Server created on 12.42.205.8:33292
17/12/23 13:27:18 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy
17/12/23 13:27:18 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 12.42.205.8, 33292, None)
17/12/23 13:27:18 INFO BlockManagerMasterEndpoint: Registering block manager 12.42.205.8:33292 with 366.3 MB RAM, BlockManagerId(driver, 12.42.205.8, 33292, None)
17/12/23 13:27:18 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 12.42.205.8, 33292, None)
17/12/23 13:27:18 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 12.42.205.8, 33292, None)
17/12/23 13:27:18 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 214.5 KB, free 366.1 MB)
17/12/23 13:27:18 INFO MemoryStore: Block broadcast_0_piece0 stored as bytes in memory (estimated size 20.4 KB, free 366.1 MB)
17/12/23 13:27:18 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on 12.42.205.8:33292 (size: 20.4 KB, free: 366.3 MB)
17/12/23 13:27:18 INFO SparkContext: Created broadcast 0 from textFile at NaiveBayesExample.scala:19
17/12/23 13:27:20 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir ('file:/home/2017/fall/nyu/cs9223/on371/P2/hj997/P2/spark-warehouse/').
17/12/23 13:27:20 INFO SharedState: Warehouse path is 'file:/home/2017/fall/nyu/cs9223/on371/P2/hj997/P2/spark-warehouse/'.
17/12/23 13:27:20 INFO StateStoreCoordinatorRef: Registered StateStoreCoordinator endpoint
17/12/23 13:27:21 INFO CodeGenerator: Code generated in 165.716815 ms
17/12/23 13:27:21 INFO FileInputFormat: Total input paths to process : 1
17/12/23 13:27:21 INFO Instrumentation: NaiveBayes-nb_5a59c2a987b0-527372258-1: training: numPartitions=2 storageLevel=StorageLevel(1 replicas)
17/12/23 13:27:21 INFO Instrumentation: NaiveBayes-nb_5a59c2a987b0-527372258-1: {"modelType":"multinomial","smoothing":1.0}
17/12/23 13:27:21 INFO CodeGenerator: Code generated in 30.997241 ms
17/12/23 13:27:21 INFO SparkContext: Starting job: head at NaiveBayes.scala:154
17/12/23 13:27:21 INFO DAGScheduler: Got job 0 (head at NaiveBayes.scala:154) with 1 output partitions
17/12/23 13:27:21 INFO DAGScheduler: Final stage: ResultStage 0 (head at NaiveBayes.scala:154)
17/12/23 13:27:21 INFO DAGScheduler: Parents of final stage: List()
17/12/23 13:27:21 INFO DAGScheduler: Missing parents: List()
17/12/23 13:27:21 INFO DAGScheduler: Submitting ResultStage 0 (MapPartitionsRDD[12] at head at NaiveBayes.scala:154), which has no missing parents
17/12/23 13:27:21 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 14.8 KB, free 366.1 MB)
17/12/23 13:27:21 INFO MemoryStore: Block broadcast_1_piece0 stored as bytes in memory (estimated size 6.0 KB, free 366.1 MB)
17/12/23 13:27:21 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on 12.42.205.8:33292 (size: 6.0 KB, free: 366.3 MB)
17/12/23 13:27:21 INFO SparkContext: Created broadcast 1 from broadcast at DAGScheduler.scala:1006
17/12/23 13:27:21 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 0 (MapPartitionsRDD[12] at head at NaiveBayes.scala:154) (first 15 tasks are for partitions Vector(0))
17/12/23 13:27:21 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks
17/12/23 13:27:21 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, localhost, executor driver, partition 0, PROCESS_LOCAL, 4879 bytes)
17/12/23 13:27:21 INFO Executor: Running task 0.0 in stage 0.0 (TID 0)
17/12/23 13:27:21 INFO Executor: Fetching spark://12.42.205.8:38679/jars/sparkclass_2-0_final_2.11-1.0.jar with timestamp 1514053637965
17/12/23 13:27:21 INFO TransportClientFactory: Successfully created connection to /12.42.205.8:38679 after 24 ms (0 ms spent in bootstraps)
17/12/23 13:27:21 INFO Utils: Fetching spark://12.42.205.8:38679/jars/sparkclass_2-0_final_2.11-1.0.jar to /tmp/spark-404af197-14df-499d-829e-f987ceaebf13/userFiles-9f930907-dcf8-4253-8d95-346adab798d1/fetchFileTemp7882088663368700035.tmp
17/12/23 13:27:21 INFO Executor: Adding file:/tmp/spark-404af197-14df-499d-829e-f987ceaebf13/userFiles-9f930907-dcf8-4253-8d95-346adab798d1/sparkclass_2-0_final_2.11-1.0.jar to class loader
17/12/23 13:27:21 INFO HadoopRDD: Input split: file:/home/2017/fall/nyu/cs9223/on371/P2/hj997/P2/Mydata.csv:0+11907
17/12/23 13:27:21 ERROR Executor: Exception in task 0.0 in stage 0.0 (TID 0)
java.lang.ArrayIndexOutOfBoundsException: 1
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:22)
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:20)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
17/12/23 13:27:21 WARN TaskSetManager: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.ArrayIndexOutOfBoundsException: 1
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:22)
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:20)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

17/12/23 13:27:21 ERROR TaskSetManager: Task 0 in stage 0.0 failed 1 times; aborting job
17/12/23 13:27:21 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool 
17/12/23 13:27:21 INFO TaskSchedulerImpl: Cancelling stage 0
17/12/23 13:27:21 INFO DAGScheduler: ResultStage 0 (head at NaiveBayes.scala:154) failed in 0.205 s due to Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.ArrayIndexOutOfBoundsException: 1
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:22)
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:20)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Driver stacktrace:
17/12/23 13:27:21 INFO DAGScheduler: Job 0 failed: head at NaiveBayes.scala:154, took 0.292283 s
Exception in thread "main" org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.ArrayIndexOutOfBoundsException: 1
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:22)
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:20)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:335)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Driver stacktrace:
	at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1499)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1487)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1486)
	at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)
	at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)
	at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1486)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:814)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:814)
	at scala.Option.foreach(Option.scala:257)
	at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:814)
	at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1714)
	at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1669)
	at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1658)
	at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)
	at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:630)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2022)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2043)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2062)
	at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:336)
	at org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:38)
	at org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$collectFromPlan(Dataset.scala:2853)
	at org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:2153)
	at org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:2153)
	at org.apache.spark.sql.Dataset$$anonfun$55.apply(Dataset.scala:2837)
	at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:65)
	at org.apache.spark.sql.Dataset.withAction(Dataset.scala:2836)
	at org.apache.spark.sql.Dataset.head(Dataset.scala:2153)
	at org.apache.spark.sql.Dataset.head(Dataset.scala:2160)
	at org.apache.spark.ml.classification.NaiveBayes.trainWithLabelCheck(NaiveBayes.scala:154)
	at org.apache.spark.mllib.classification.NaiveBayes.run(NaiveBayes.scala:373)
	at org.apache.spark.mllib.classification.NaiveBayes$.train(NaiveBayes.scala:417)
	at NaiveBayesExample$.main(NaiveBayesExample.scala:29)
	at NaiveBayesExample.main(NaiveBayesExample.scala)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:755)
	at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:180)
	at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:205)
	at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:119)
	at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
Caused by: java.lang.ArrayIndexOutOfBoundsException: 1
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:22)
	at NaiveBayesExample$$anonfun$1.apply(NaiveBayesExample.scala:20)
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:409)
	at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:408)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator.processNext(Unknown Source)
	at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
	at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$8$$anon$1.hasNext(WholeStageCodegenExec.scala:395)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:234)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:228)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)
	at org.apache.spark.scheduler.Task.run(Task.scala:108)
	at org.apache.spark.e